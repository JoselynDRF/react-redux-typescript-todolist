(this["webpackJsonpreact-redux-typescript-todolist"]=this["webpackJsonpreact-redux-typescript-todolist"]||[]).push([[0],{32:function(e,t,n){e.exports=n(63)},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"addItem",(function(){return S})),n.d(a,"toggleItem",(function(){return D})),n.d(a,"toggleEditItem",(function(){return g})),n.d(a,"updateItem",(function(){return A})),n.d(a,"removeItem",(function(){return y})),n.d(a,"loadRequest",(function(){return h})),n.d(a,"loadSuccess",(function(){return M})),n.d(a,"loadFailure",(function(){return C}));var r={};n.r(r),n.d(r,"updateFilter",(function(){return P}));var c,l,u=n(1),i=n.n(u),o=n(14),s=n.n(o),E=n(10),m=n(6),d=n(31),f=n(11),p=n(30);!function(e){e.ADD_ITEM="ADD_ITEM",e.TOGGLE_ITEM="TOGGLE_ITEM",e.TOGGLE_EDIT_ITEM="TOGGLE_EDIT_ITEM",e.UPDATE_ITEM="UPDATE_ITEM",e.REMOVE_ITEM="REMOVE_ITEM",e.LOAD_REQUEST="LOAD_REQUEST",e.LOAD_SUCCESS="LOAD_SUCCESS",e.LOAD_FAILURE="LOAD_FAILURE"}(c||(c={})),function(e){e.SHOW_ALL="SHOW_ALL",e.SHOW_ACTIVE="SHOW_ACTIVE",e.SHOW_COMPLETED="SHOW_COMPLETED",e.UPDATE_FILTER="UPDATE_FILTER"}(l||(l={}));var O={data:[]},v=Object(m.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.ADD_ITEM:return{data:[].concat(Object(p.a)(e.data),[{id:Math.random(),text:t.payload.text,editing:!1,complete:!1}])};case c.TOGGLE_ITEM:return{data:e.data.map((function(e){return e.id===t.payload.id?Object(f.a)({},e,{complete:!e.complete}):e}))};case c.TOGGLE_EDIT_ITEM:return{data:e.data.map((function(e){return e.id===t.payload.id?Object(f.a)({},e,{editing:!e.editing}):e}))};case c.UPDATE_ITEM:return{data:e.data.map((function(e){return e.id===t.payload.id?Object(f.a)({},e,{text:t.payload.text}):e}))};case c.REMOVE_ITEM:return{data:e.data.filter((function(e){return e.id!==t.payload.id}))};case c.LOAD_REQUEST:return Object(f.a)({},e);case c.LOAD_SUCCESS:return{data:t.data};case c.LOAD_FAILURE:return{data:[]};default:return e}},filterState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.SHOW_ALL,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case l.UPDATE_FILTER:return a.filter;default:return e}}}),T=n(9),I=n.n(T),_=n(8),L=n(29),b=n.n(L).a.create(),S=function(e){return{type:c.ADD_ITEM,payload:{text:e}}},D=function(e){return{type:c.TOGGLE_ITEM,payload:{id:e}}},g=function(e){return{type:c.TOGGLE_EDIT_ITEM,payload:{id:e}}},A=function(e,t){return{type:c.UPDATE_ITEM,payload:{id:e,text:t}}},y=function(e){return{type:c.REMOVE_ITEM,payload:{id:e}}},h=function(){return{type:c.LOAD_REQUEST}},M=function(e){return{type:c.LOAD_SUCCESS,data:e}},C=function(){return{type:c.LOAD_FAILURE}},k=I.a.mark(x),j=I.a.mark(R);function x(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_.b)(b.get,"http://localhost:3000/items");case 3:return e=n.sent,t=e.data,n.next=7,Object(_.c)(M(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(_.c)(C());case 13:case"end":return n.stop()}}),k,null,[[0,9]])}function R(e){var t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(_.b)(b.delete,"http://localhost:3000/items/".concat(t.id));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log("DELETE ERROR");case 9:case"end":return n.stop()}}),j,null,[[1,6]])}var N=I.a.mark(U);function U(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([Object(_.d)(c.LOAD_REQUEST,x),Object(_.d)(c.REMOVE_ITEM,R)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),N)}var G=Object(d.a)(),F=Object(m.e)(v,Object(m.a)(G));G.run(U);var W=F,H=function(e){var t=e.title;return i.a.createElement("div",{className:"header"},t)},P=function(e){return{type:l.UPDATE_FILTER,payload:{filter:e}}},w=Object(E.b)((function(e,t){return{filterSelected:e.filterState===t.filter}}),(function(e){return Object(m.b)(r,e)}))((function(e){var t=e.children,n=e.updateFilter,a=e.filter,r=e.filterSelected;return i.a.createElement("span",{role:"presentation",onClick:function(){return n(a)},className:r?"active":""},t)})),V=function(e){var t=e.taskCounter,n=t.counter,a=t.text;return i.a.createElement("div",{className:"filters-container"},i.a.createElement("div",null,i.a.createElement("span",{className:"active"},n)," ",i.a.createElement("span",null,a)),i.a.createElement("div",{className:"filters"},i.a.createElement(w,{filter:l.SHOW_ALL},"All"),i.a.createElement(w,{filter:l.SHOW_ACTIVE},"Active"),i.a.createElement(w,{filter:l.SHOW_COMPLETED},"Completed")))},Q=function(e){var t=e.emptyList,n=e.addItem,a=Object(u.useRef)(null);Object(u.useEffect)((function(){t&&function(){var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.focus()}()}));return i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a&&a.current&&""!==a.current.value&&(n(a.current.value),a.current.value="")}},i.a.createElement("input",{ref:a,placeholder:"What needs to be done?"}),i.a.createElement("button",{type:"submit"},i.a.createElement("i",{className:"fas fa-plus"})))},q=function(e){var t=e.item,n=t.id,a=t.text,r=t.editing,c=t.complete,l=e.toggleItem,o=e.toggleEditItem,s=e.updateItem,E=e.removeItem,m=Object(u.useRef)(null);Object(u.useEffect)((function(){var e;return null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.focus()}));return i.a.createElement("li",null,r?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{className:"edit-item",ref:m,defaultValue:a}),i.a.createElement("div",null,i.a.createElement("span",{className:"icon",role:"presentation",onClick:function(){return function(e){var t,n,a=(null===m||void 0===m||null===(t=m.current)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.trim())||"";""!==a&&(s(e,a),o(e))}(n)}},i.a.createElement("i",{className:"fas fa-save"})),i.a.createElement("span",{className:"icon",role:"presentation",onClick:function(){return o(n)}},i.a.createElement("i",{className:"fas fa-ban"})))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"check-item-container"},i.a.createElement("div",{onClick:function(){return l(n)},role:"presentation",className:c?"checkbox-item checked":"checkbox-item"}),i.a.createElement("span",null,c?i.a.createElement("s",null,a):a)),i.a.createElement("div",null,i.a.createElement("span",{className:"icon",role:"presentation",onClick:function(){return o(n)}},i.a.createElement("i",{className:"fas fa-pencil-alt"})),i.a.createElement("span",{className:"icon",role:"presentation",onClick:function(){return E(n)}},i.a.createElement("i",{className:"fas fa-trash-alt"})))))},J=function(e){var t=e.message;return i.a.createElement("div",{className:"empty-list"},i.a.createElement("i",{className:"fas fa-clipboard-list empty-icon"}),i.a.createElement("span",null,t))},B=function(e){var t=e.filterState,n=e.getTaskCounter;return t===l.SHOW_COMPLETED?i.a.createElement(i.a.Fragment,null,i.a.createElement(J,{message:"There are no tasks completed yet!"}),i.a.createElement(V,{taskCounter:n()})):i.a.createElement(J,{message:"Add your first To Do!"})},z=function(e,t){switch(t){case l.SHOW_ACTIVE:return e.filter((function(e){return!e.complete}));case l.SHOW_COMPLETED:return e.filter((function(e){return e.complete}));default:return e}},K=Object(E.b)((function(e){return{items:z(e.items.data,e.filterState),filterState:e.filterState}}),(function(e){return Object(m.b)(a,e)}))((function(e){var t=e.items,n=e.addItem,a=e.toggleItem,r=e.toggleEditItem,c=e.updateItem,o=e.removeItem,s=e.filterState,E=e.loadRequest;Object(u.useEffect)((function(){E()}),[E]);var m=function(){return s===l.SHOW_COMPLETED?{counter:t.filter((function(e){return e.complete})).length,text:"completed tasks"}:{counter:t.filter((function(e){return!e.complete})).length,text:"tasks left"}};return i.a.createElement("div",{className:"todo-list"},i.a.createElement(H,{title:"TodoList"}),i.a.createElement("div",{className:"content"},i.a.createElement(Q,{emptyList:!t.length,addItem:n}),0===t.length?i.a.createElement(B,{filterState:s,getTaskCounter:m}):i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"items"},t.map((function(e){return i.a.createElement(q,{key:e.id,item:e,toggleItem:a,toggleEditItem:r,updateItem:c,removeItem:o})}))),i.a.createElement(V,{taskCounter:m()}))))}));n(62);s.a.render(i.a.createElement((function(){return i.a.createElement(E.a,{store:W},i.a.createElement(K,null))}),null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7a362753.chunk.js.map